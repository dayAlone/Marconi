# Схема импорта товаров и сопутствующей информации

## Файлы
Я разделил все данные по смыслу на 6 файлов для наглядности, но в конечном варианте можно будет все объединить в один.

* Категории товаров _(categories.xml)_

* Свойства товаров _(properties.xml)_

* Товары _(products.xml)_

* Цены _(prices.xml)_

* Магазины _(stores.xml)_

* Остатки _(counts.xml)_

* Кассовые списания _(write-off.xml)_

Примеры файлов можно посмотреть по [ссылке](https://github.com/dayAlone/Marconi/tree/master/XML)

Схема иллюстрирующая структуру файлов и связи между идентификаторами элементов, находится по [ссылке](https://www.dropbox.com/s/nvhr3yvw4rf84wt/import.pdf)

### Категории товаров
У категории есть __идентификационный код (ID)__, по которому к ней будут привязываться вложенные категории и товары.

Если у категории есть родительская, то она указывается в параметре __parent__.

Параметр __name__ – название категории.

### Свойства товаров
Свойство имеет смысловой __идентификационный код (ID)__, например colors (_цвета_), sizes (_размеры_). В параметре __name__ – название параметра.

У значений свойства так же есть __идентификационный код (ID)__ и название __(name)__. При необходимости в параметр __value__ можно записать дополнительные сведения, например HEX-код цвета.

### Товары
У товара есть __идентификационный код (ID)__, название (__name__), артикул (__artnumber__) и код для кассового аппарата (__сщву__).

В разделе __properties__ находятся свойства общие для всего товара. Название свойства должно быть из списка смысловых идентификаторов из файла свойств, например: brand. В параметре __ID__ указывается идентификатор значения свойства.

### Цены 
У блока с ценой указывается __идентификационный код товара (ID)__ цены которого указаны в блоке.

В параметре __retail__ указывается розничная цена торгового предложения. В __wholesale__ – оптовая.

### Магазины и склады

В разделе __cities__ указываются города, в которых есть магазины. Каждому городу соответствует свой __идентификационный код (ID)__.

Чтобы отличить розницу (retail) от опта (whoresale) ввели атрибут __type__.

В разделе __stores__ находятся сами магазины, у свой _ID_. В параметре __city__ указывается ID города из предыдущего раздела, в __place__ – ТЦ или ТРЦ в котором находится магазин, __stage__ – этаж магазина, __address__ – адрес магазина и в __phone__ – номер телефона.

### Остатки

У элемента раздела остатков указывается __идентификационный код товарного предложения (ID)__, к которому эти остатки относятся.

У элемента есть параметр __store__, в котором указывается ID магазина.

### Кассовые списания

Раздел __store__ имеет __идентификационный код магазина (ID)__ и в нем содержется список купленных товаров с идентификатором __code__ и __count__ c количеством, которое нужно списать.